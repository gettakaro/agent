<%- include('partials/header') %>

<div class="page">
  <h1>Available Agents</h1>

  <% if (agents.length === 0) { %>
    <div class="empty-state">
      <p>No agents registered</p>
    </div>
  <% } else { %>
    <div class="card-list">
      <% agents.forEach(agent => { %>
        <div class="card">
          <div class="card-header">
            <h3 class="card-title"><%= agent.id %></h3>
          </div>
          <div class="card-body">
            <p><strong>Default Version:</strong> <%= agent.defaultVersion %></p>
            <p><strong>Available Versions:</strong></p>
            <div class="badge-list">
              <% agent.versions.forEach(version => { %>
                <span class="badge <%= version === agent.defaultVersion ? '' : 'badge-outline' %>">
                  v<%= version %>
                </span>
              <% }) %>
            </div>
          </div>
          <div class="card-footer">
            <a href="/new?agent=<%= agent.id %>" class="btn btn-primary">Start Conversation</a>
          </div>
        </div>
      <% }) %>
    </div>
  <% } %>
</div>

<%- include('partials/footer') %>
